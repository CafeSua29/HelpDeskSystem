@using Microsoft.AspNetCore.Identity
@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google-signin-client_id" content="998649103436-ievvf02a8vssctqpf8t9o3l7t93tg6ge.apps.googleusercontent.com">
    <title>@ViewData["Title"] - HelpDeskSystem</title>

    @* <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/HelpDeskSystem.styles.css" asp-append-version="true" /> *@

    <link rel="shortcut icon" href="~/assets/img/logo-dhxd.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,500;0,600;0,700;1,400&amp;display=swap">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="stylesheet" href="~/assets/plugins/bootstrap/css/bootstrap.min.css">

    <link rel="stylesheet" href="~/assets/css/high-charts.css">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="stylesheet" href="~/assets/plugins/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="~/assets/plugins/fontawesome/css/all.min.css">

    <link rel="stylesheet" href="~/assets/plugins/datatables/datatables.min.css">
    <link rel="stylesheet" href="~/assets/css/bootstrap-datetimepicker.min.css">
    <link rel="stylesheet" href="~/assets/plugins/fullcalendar/fullcalendar.min.css">
    <link rel="stylesheet" href="~/assets/plugins/simple-calendar/simple-calendar.css">
    <script src="https://kit.fontawesome.com/2633135084.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="~/assets/css/picker.min.css">

    <link rel="stylesheet" href="~/assets/css/hummingbird-treeview.css">
    <link rel="stylesheet" href="~/assets/css/hummingbird-treeview.min.css">
    <link href="https://cdn.jsdelivr.net/gh/hummingbird-dev/hummingbird-treeview@v3.0.5/hummingbird-treeview.min.css" rel="stylesheet">
    <link rel="stylesheet" href="~/assets/css/style.css">
</head>
<body class="mini-sidebar">
    <div class="main-wrapper">
        <partial name="_LoginPartial" />

        @if (SignInManager.IsSignedIn(User))
        {
            <div class="page-wrapper">
                @RenderBody()
            </div>
            <footer>
                <p>Copyright © 2024 HUCE.</p>
            </footer>
        }
        else
        {
            @RenderBody()
            <footer class="register-footer">
                <p>Copyright © 2024 HUCE.</p>
            </footer>
        }
    </div>

    @* <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script> *@

    <script src="https://apis.google.com/js/platform.js" async defer></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

    <script src="~/assets/js/jquery-3.6.0.min.js"></script>

    <script src="~/assets/js/popper.min.js"></script>

    <script src="~/assets/plugins/bootstrap/js/bootstrap.min.js"></script>

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-3d.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/drilldown.js"></script>
    <script src="https://code.highcharts.com/modules/series-label.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>

    @* <script src="~/assets/js/high-charts.js"></script> *@

    <script src="~/assets/plugins/datatables/datatables.min.js"></script>

    @* <script src="~/scripts/jquery-1.10.2.min.js"></script> *@
    @* <script src="~/scripts/jquery.validate.min.js"></script>
    <script src="~/scripts/jquery.validate.unobtrusive.min.js"></script> *@

    <script src="~/assets/js/moment.min.js"></script>
    <script src="~/assets/js/bootstrap-datetimepicker.min.js"></script>
    <script src="~/assets/js/jquery-ui.min.js"></script>
    <script src="~/assets/plugins/fullcalendar/fullcalendar.min.js"></script>
    <script src="~/assets/plugins/fullcalendar/jquery.fullcalendar.js"></script>
    <script src="~/assets/plugins/apexchart/apexcharts.min.js"></script>
    <script src="~/assets/plugins/apexchart/chart-data.js"></script>
    <script src="~/assets/plugins/simple-calendar/jquery.simple-calendar.js"></script>
    <script src="~/assets/js/calander.js"></script>
    <script src="~/assets/js/circle-progress.min.js"></script>

    <script type="text/javascript" src="~/assets/js/picker.min.js"></script>

    <script src="~/assets/js/hummingbird-treeview.js"></script>
    <script src="~/assets/js/hummingbird-treeview.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/hummingbird-dev/hummingbird-treeview@v3.0.5/hummingbird-treeview.min.js"></script>

    <script src="~/assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <script src="~/assets/js/script.js"></script>

    <script>
        $(document).ready(function () {
            window.setTimeout(function () {
                $(".alert").fadeTo(500, 0).slideUp(500, function () {
                    $(this).remove();
                });
            }, 2000);

            $('#clear-noti-btn').click(function (e) {
                e.preventDefault();

                var userid = $('#useridinput').val();

                $.ajax({
                    url: "/Replies/ClearRepliesAsync",
                    type: 'POST',
                    data: { userid: userid },
                    contentType: 'application/x-www-form-urlencoded',
                    success: function (response) {
                        let display = '';

                        $('#noti-list').empty();

                        display += '<i class="far fa-bell"></i>';

                        $('#noti-dropdown').html(display);

                        console.log("Replies cleared successfully");
                    },
                    error: function (xhr, status, error) {
                        console.error('Error:', error);
                    }
                });
            });
        });
    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
